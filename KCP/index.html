<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title data-i18n="page_title"></title>
    <!-- Favicon -->
    <link rel="icon" href="https://www.newebpay.com/images/head.ico" type="image/x-icon">
    <link rel="shortcut icon" href="https://www.newebpay.com/images/head.ico" type="image/x-icon">
    
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet" />
    <style>
        html { scroll-behavior: smooth; }
        body { background-color: #f8fafc; }
        
        /* Custom Scrollbar */
        .scrollable-area::-webkit-scrollbar { width: 6px; }
        .scrollable-area::-webkit-scrollbar-thumb { background-color: #cbd5e1; border-radius: 3px; }
        
        /* Card Hover Effects */
        .api-card { transition: all 0.3s ease; }
        .api-card:hover { transform: translateY(-4px); box-shadow: 0 10px 25px -5px rgba(0, 0, 0, 0.1), 0 8px 10px -6px rgba(0, 0, 0, 0.1); }
        .api-card:hover .icon-wrapper { background-color: #eff6ff; color: #2563eb; transform: scale(1.1); }
        
        /* Purple Card Theme */
        .purple-card:hover .icon-wrapper { background-color: #faf5ff; color: #9333ea; }

        /* Red Card Theme (For Cancel) */
        .red-card:hover .icon-wrapper { background-color: #fef2f2; color: #dc2626; }

        /* Teal Card Theme (For Query) */
        .teal-card:hover .icon-wrapper { background-color: #f0fdfa; color: #0d9488; }

        /* Orange Card Theme (For ID Check) - NEW */
        .orange-card:hover .icon-wrapper { background-color: #fff7ed; color: #ea580c; }

        /* Language Button Active State */
        .lang-btn.active { background-color: #eff6ff; color: #2563eb; ring: 2px solid #3b82f6; box-shadow: inset 0 2px 4px 0 rgba(0, 0, 0, 0.06); border-color: #bfdbfe; }
    </style>
</head>
<body class="text-slate-800 font-sans flex flex-col min-h-screen">

    <div class="flex-1 w-full flex flex-col justify-center">
        <!-- Main Content -->
        <main class="w-full max-w-7xl mx-auto p-4 lg:p-8">
            
            <!-- Hero Section -->
            <div class="max-w-4xl mx-auto text-center py-12 lg:py-16">
                <!-- Logo -->
                <div class="mb-8 flex justify-center">
                    <img src="https://cimage.newebpay.com/Show/4d83aec0b1cf161b11cdf7a6010a48efa33d39b474484488b29d960fc46f96e3976cf527b782b1d617c590f6c0754a5de7315ca9e9df48147a5a0dfea89f9f779b3e2216a9911ad1c82ff6d66618df9d9052234124a4d095b299aaa1e35dab97" alt="NewebPay" class="h-12 md:h-14 w-auto object-contain">
                </div>
                
                <h1 class="text-4xl lg:text-5xl font-bold text-slate-900 tracking-tight" data-i18n="hero_title"></h1>
            </div>

            <!-- API Cards Grid -->
            <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 max-w-7xl mx-auto mb-16">
                
                <!-- Card 1: Auth API -->
                <div onclick="openApiLink(AUTH_API_URL)" class="api-card bg-white rounded-2xl shadow-lg border border-slate-200 p-8 cursor-pointer relative overflow-hidden group h-full flex flex-col">
                    <div class="absolute top-0 right-0 p-4 opacity-5 group-hover:opacity-10 transition-opacity">
                        <i class="fas fa-credit-card text-9xl"></i>
                    </div>
                    <div class="icon-wrapper w-16 h-16 bg-slate-50 text-slate-500 rounded-2xl flex items-center justify-center mb-6 transition-all duration-300 shadow-inner">
                        <i class="fas fa-credit-card text-3xl"></i>
                    </div>
                    <h3 class="text-2xl font-bold text-slate-800 mb-3 group-hover:text-blue-600 transition-colors" data-i18n="card_auth_title"></h3>
                    <div class="flex items-center mb-4">
                        <span class="px-2 py-1 bg-blue-100 text-blue-700 text-xs font-mono rounded font-bold mr-2">API</span>
                        <span class="text-sm text-slate-500">Identity Verification Version</span>
                    </div>
                    <p class="text-slate-600 mb-8 leading-relaxed flex-grow" data-i18n="card_auth_desc"></p>
                    <div class="flex items-center text-blue-600 font-bold group-hover:translate-x-2 transition-transform mt-auto">
                        <span data-i18n="btn_view_docs"></span> <i class="fas fa-arrow-right ml-2"></i>
                    </div>
                </div>

                <!-- Card 2: Close API -->
                <div onclick="openApiLink(CLOSE_API_URL)" class="api-card purple-card bg-white rounded-2xl shadow-lg border border-slate-200 p-8 cursor-pointer relative overflow-hidden group h-full flex flex-col">
                    <div class="absolute top-0 right-0 p-4 opacity-5 group-hover:opacity-10 transition-opacity">
                        <i class="fas fa-hand-holding-usd text-9xl"></i>
                    </div>
                    <div class="icon-wrapper w-16 h-16 bg-slate-50 text-slate-500 rounded-2xl flex items-center justify-center mb-6 transition-all duration-300 shadow-inner">
                        <i class="fas fa-hand-holding-usd text-3xl"></i>
                    </div>
                    <h3 class="text-2xl font-bold text-slate-800 mb-3 group-hover:text-purple-600 transition-colors" data-i18n="card_close_title"></h3>
                    <div class="flex items-center mb-4">
                        <span class="px-2 py-1 bg-purple-100 text-purple-700 text-xs font-mono rounded font-bold mr-2">API</span>
                        <span class="text-sm text-slate-500">CreditCard/Close</span>
                    </div>
                    <p class="text-slate-600 mb-8 leading-relaxed flex-grow" data-i18n="card_close_desc"></p>
                    <div class="flex items-center text-purple-600 font-bold group-hover:translate-x-2 transition-transform mt-auto">
                        <span data-i18n="btn_view_docs"></span> <i class="fas fa-arrow-right ml-2"></i>
                    </div>
                </div>

                <!-- Card 3: Cancel API -->
                <div onclick="openApiLink(CANCEL_API_URL)" class="api-card red-card bg-white rounded-2xl shadow-lg border border-slate-200 p-8 cursor-pointer relative overflow-hidden group h-full flex flex-col">
                    <div class="absolute top-0 right-0 p-4 opacity-5 group-hover:opacity-10 transition-opacity">
                        <i class="fas fa-rotate-left text-9xl"></i>
                    </div>
                    <div class="icon-wrapper w-16 h-16 bg-slate-50 text-slate-500 rounded-2xl flex items-center justify-center mb-6 transition-all duration-300 shadow-inner">
                        <i class="fas fa-rotate-left text-3xl"></i>
                    </div>
                    <h3 class="text-2xl font-bold text-slate-800 mb-3 group-hover:text-red-600 transition-colors" data-i18n="card_cancel_title"></h3>
                    <div class="flex items-center mb-4">
                        <span class="px-2 py-1 bg-red-100 text-red-700 text-xs font-mono rounded font-bold mr-2">API</span>
                        <span class="text-sm text-slate-500">CreditCard/Cancel</span>
                    </div>
                    <p class="text-slate-600 mb-8 leading-relaxed flex-grow" data-i18n="card_cancel_desc"></p>
                    <div class="flex items-center text-red-600 font-bold group-hover:translate-x-2 transition-transform mt-auto">
                        <span data-i18n="btn_view_docs"></span> <i class="fas fa-arrow-right ml-2"></i>
                    </div>
                </div>

                <!-- Card 4: QueryOne API -->
                <div onclick="openApiLink(QUERYONE_API_URL)" class="api-card teal-card bg-white rounded-2xl shadow-lg border border-slate-200 p-8 cursor-pointer relative overflow-hidden group h-full flex flex-col">
                    <div class="absolute top-0 right-0 p-4 opacity-5 group-hover:opacity-10 transition-opacity">
                        <i class="fas fa-magnifying-glass-dollar text-9xl"></i>
                    </div>
                    <div class="icon-wrapper w-16 h-16 bg-slate-50 text-slate-500 rounded-2xl flex items-center justify-center mb-6 transition-all duration-300 shadow-inner">
                        <i class="fas fa-magnifying-glass-dollar text-3xl"></i>
                    </div>
                    <h3 class="text-2xl font-bold text-slate-800 mb-3 group-hover:text-teal-600 transition-colors" data-i18n="card_queryone_title"></h3>
                    <div class="flex items-center mb-4">
                        <span class="px-2 py-1 bg-teal-100 text-teal-700 text-xs font-mono rounded font-bold mr-2">API</span>
                        <span class="text-sm text-slate-500">CreditCard/Query</span>
                    </div>
                    <p class="text-slate-600 mb-8 leading-relaxed flex-grow" data-i18n="card_queryone_desc"></p>
                    <div class="flex items-center text-teal-600 font-bold group-hover:translate-x-2 transition-transform mt-auto">
                        <span data-i18n="btn_view_docs"></span> <i class="fas fa-arrow-right ml-2"></i>
                    </div>
                </div>

                <!-- Card 5: Identity API (Activated) -->
                <div onclick="openApiLink(ID_API_URL)" class="api-card orange-card bg-white rounded-2xl shadow-lg border border-slate-200 p-8 cursor-pointer relative overflow-hidden group h-full flex flex-col">
                    <div class="absolute top-0 right-0 p-4 opacity-5 group-hover:opacity-10 transition-opacity">
                        <i class="fas fa-id-card text-9xl"></i>
                    </div>
                    <div class="icon-wrapper w-16 h-16 bg-slate-50 text-slate-500 rounded-2xl flex items-center justify-center mb-6 transition-all duration-300 shadow-inner">
                        <i class="fas fa-id-card text-3xl"></i>
                    </div>
                    <h3 class="text-2xl font-bold text-slate-800 mb-3 group-hover:text-orange-600 transition-colors" data-i18n="card_id_title"></h3>
                    <div class="flex items-center mb-4">
                        <span class="px-2 py-1 bg-orange-100 text-orange-700 text-xs font-mono rounded font-bold mr-2">API</span>
                        <span class="text-sm text-slate-500">Identity/Check</span>
                    </div>
                    <p class="text-slate-600 mb-8 leading-relaxed flex-grow" data-i18n="card_id_desc"></p>
                    <div class="flex items-center text-orange-600 font-bold group-hover:translate-x-2 transition-transform mt-auto">
                        <span data-i18n="btn_view_docs"></span> <i class="fas fa-arrow-right ml-2"></i>
                    </div>
                </div>

            </div>

            <!-- Language Menu -->
            <div class="max-w-xl mx-auto text-center mb-12">
                <div class="inline-flex bg-white rounded-full p-1.5 shadow-sm border border-slate-200">
                    <button onclick="changeLang('zh-TW')" class="lang-btn px-6 py-2 rounded-full text-sm font-bold text-slate-500 hover:text-slate-700 transition-all" data-lang="zh-TW">
                        繁體中文
                    </button>
                    <button onclick="changeLang('EN')" class="lang-btn px-6 py-2 rounded-full text-sm font-bold text-slate-500 hover:text-slate-700 transition-all" data-lang="EN">
                        English
                    </button>
                    <button onclick="changeLang('KO')" class="lang-btn px-6 py-2 rounded-full text-sm font-bold text-slate-500 hover:text-slate-700 transition-all" data-lang="KO">
                        한국어
                    </button>
                </div>
            </div>

        </main>
    </div>

    <!-- Footer -->
    <footer class="bg-slate-50 border-t border-slate-200 py-8 text-center mt-auto">
        <div class="max-w-7xl mx-auto px-4">
            <p class="text-slate-500 text-sm">© NewebPay. All Rights Reserved.</p>
        </div>
    </footer>

    <script>
        // ==========================================
        // CONFIGURATION: API LINKS (Global Variables)
        // ==========================================
        // 1. 幕後授權 API (Auth API)
        const AUTH_API_URL = 'CreditCard_Auth_API.html'; 
        
        // 2. 請退款 API (Close API)
        const CLOSE_API_URL = 'CreditCard_Close_API.html';

        // 3. 信用卡取消授權 API (Cancel API)
        const CANCEL_API_URL = 'CreditCard_Cancel_API.html';

        // 4. 單筆交易查詢 API (QueryOne API)
        const QUERYONE_API_URL = 'CreditCard_Queryone_API.html';

        // 5. 身分驗證 API (ID Check API) - NEW
        const ID_API_URL = 'CreditCard_IDCheck_API.html';
        // ==========================================

        // Multi-language configuration
        const langData = {
            'zh-TW': { 
                name: '繁體中文', 
                data: { 
                    page_title: 'API文件 - 藍新金流',
                    hero_title: 'API文件',
                    card_auth_title: '信用卡幕後授權',
                    card_auth_desc: '幕後授權 API(身份驗證版)。支援信用卡授權、Apple Pay、Google Pay 等支付方式。提供 AES 加密與 CheckCode 驗證機制。',
                    card_close_title: '信用卡請退款/取消',
                    card_close_desc: '針對已授權的交易進行後續處理。支援請款 (Capture)、退款 (Refund) 以及取消交易 (Cancel) 等操作。',
                    card_cancel_title: '信用卡取消授權',
                    card_cancel_desc: '針對已取得授權碼但尚未請款之交易，進行取消授權並釋放信用卡額度。',
                    card_queryone_title: '單筆交易查詢',
                    card_queryone_desc: '提供特店查詢單筆交易狀態。可透過商店訂單編號查詢授權結果與交易詳情。',
                    
                    btn_view_docs: '查看文件',
                    card_id_title: '身分驗證',
                    // Updated description (removed "Pending")
                    card_id_desc: '提供持卡人身分驗證服務，強化交易安全並降低詐欺風險。',
                } 
            },
            'EN': { 
                name: 'English', 
                data: { 
                    page_title: 'API Documentation - NewebPay',
                    hero_title: 'API Documentation',
                    card_auth_title: 'Background Authorization',
                    card_auth_desc: 'Background Authorization API (Identity Verification Version). Supports Credit Card, Apple Pay, Google Pay, etc. Includes AES encryption and CheckCode validation.',
                    card_close_title: 'Capture / Refund / Cancel',
                    card_close_desc: 'Process authorized transactions. Supports Capture, Refund, and Cancel operations via the Close API.',
                    card_cancel_title: 'Cancel Authorization',
                    card_cancel_desc: 'Cancel Authorization API. Allows cancellation of authorized but uncaptured transactions to release the credit card hold.',
                    card_queryone_title: 'Single Transaction Query',
                    card_queryone_desc: 'Query transaction status. Retrieve authorization results and details using the merchant order number.',

                    btn_view_docs: 'View Documentation',
                    card_id_title: 'Identity Verification',
                    // Updated description (removed "Pending")
                    card_id_desc: 'Provides identity verification services to enhance security and reduce fraud.',
                } 
            },       
            'KO': { 
                name: '한국어', 
                data: { 
                    page_title: 'API 문서 - NewebPay',
                    hero_title: 'API 문서',
                    card_auth_title: '신용카드 백그라운드 승인',
                    card_auth_desc: '백그라운드 승인 API (본인 인증 버전). 신용카드 승인, Apple Pay, Google Pay 등을 지원합니다. AES 암호화 및 CheckCode 검증 메커니즘을 제공합니다.',
                    card_close_title: '신용카드 매입/환불/취소',
                    card_close_desc: '승인된 거래에 대한 후속 처리를 진행합니다. Close API를 통해 매입(Capture), 환불(Refund) 및 취소(Cancel) 작업을 지원합니다.',
                    card_cancel_title: '신용카드 승인 취소',
                    card_cancel_desc: '신용카드 승인 취소 API. 매입되지 않은 승인 건을 취소하여 신용카드 한도를 즉시 복원합니다.',
                    card_queryone_title: '단일 거래 조회',
                    card_queryone_desc: '단일 거래의 상태를 조회합니다. 가맹점 주문 번호를 사용하여 승인 결과 및 거래 세부 정보를 확인할 수 있습니다.',

                    btn_view_docs: '문서 보기',
                    card_id_title: '본인 인증',
                    // Updated description (removed "Pending")
                    card_id_desc: '본인 인증 서비스를 제공하여 거래 보안을 강화하고 사기 위험을 줄입니다.',
                } 
            },       
        };

        // 1. Get URL Params
        const urlParams = new URLSearchParams(window.location.search);
        const getLang = urlParams.get('lang');

        // 2. Check if param is valid (Default to EN if invalid or missing)
        let currentLang = (getLang && langData[getLang]) ? getLang : 'EN';

        function applyTranslations(lang) {
            const data = langData[lang]?.data;
            if (!data) return;

            document.querySelectorAll('[data-i18n]').forEach(el => {
                const key = el.getAttribute('data-i18n');
                if (data[key]) {
                    el.innerHTML = data[key];
                }
            });
            
            // Update html lang attribute
            document.documentElement.lang = lang;
            
            // Update Button States
            updateLangButtons(lang);
        }

        function updateLangButtons(lang) {
            document.querySelectorAll('.lang-btn').forEach(btn => {
                if(btn.dataset.lang === lang) {
                    btn.classList.add('active');
                } else {
                    btn.classList.remove('active');
                }
            });
        }

        function changeLang(targetLang) {
            currentLang = targetLang;
            applyTranslations(targetLang);
            
            // Optional: Update URL without refresh
            const newUrl = new URL(window.location);
            newUrl.searchParams.set('lang', targetLang);
            window.history.pushState({}, '', newUrl);
        }
        
        // Function to open API link in new tab with lang param
        function openApiLink(baseUrl) {
            // Construct new URL with current language param
            const targetUrl = new URL(baseUrl, window.location.href);
            targetUrl.searchParams.set('lang', currentLang);
            
            // Open in new tab
            window.open(targetUrl.href, '_blank');
        }

        window.onload = function() {
            applyTranslations(currentLang);
        };
    </script>
</body>
</html>